<div class="container">
    @Html.ActionLink("Назад к калькулятору", "Calculate","PolygraphyForm")
    <h2 class="text-center">Прайсы печатных машин</h2>
    @using (Ajax.BeginForm("ZirkonUpdatePrice", new { ID = "" },
           new AjaxOptions()
           {
               UpdateTargetId = "zirkonPL",
               Url = Url.Action("ZirkonUpdatePrice")
           }, new { @class = "form-horizontal prices-updates" }))
    {
        <h3 class="text-center">Прайс печатной машины Циркон</h3>
        <div id="zirkonPL">
            @Html.Action("ZirkonUpdatePrice")
        </div>
        <div class="text-center">
            <input type="submit" value="Обновить прайс" class="btn btn-success" />
        </div>
    }
    <hr />

    @using (Ajax.BeginForm("CorosetUpdatePrice", new { ID = "" },
            new AjaxOptions()
            {
                UpdateTargetId = "corosetPL",
                Url = Url.Action("CorosetUpdatePrice")
            }, new { @class = "form-horizontal prices-updates" }))
    {
        <h3 class="text-center">Прайс печатной машины Коросет</h3>
        <div id="corosetPL">
            @Html.Action("CorosetUpdatePrice")
        </div>
        <div class="text-center">
            <input type="submit" value="Обновить прайс" class="btn btn-success" />
        </div>
    }
    <hr />
    @using (Ajax.BeginForm("RapidaUpdatePrice", new { ID = "" },
           new AjaxOptions()
           {
               UpdateTargetId = "rapidaPL",
               Url = Url.Action("RapidaUpdatePrice")
           }, new { @class = "form-horizontal prices-updates" }))
    {
        <h3 class="text-center">Прайс печатной машины Рапида</h3>
        <div id="rapidaPL">
            @Html.Action("RapidaUpdatePrice")
        </div>
        <div class="text-center">
            <input type="submit" value="Обновить прайс" class="btn btn-success" />
        </div>
    }



</div>

@section Scripts {
    @*Ненавязивый JavaScript для выполнения запроса на сервер без полного обновления страницы*@
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        // переопределение валидации на стороне клиента (восприятие десятичных запятых)
        $.validator.methods.range = function (value, element, param) {
            var globalizedValue = value.replace(",", ".");
            return this.optional(element) || (globalizedValue >= param[0] && globalizedValue <= param[1]);
        }

        $.validator.methods.number = function (value, element) {
            return this.optional(element) || /^-?(?:\d+|\d{1,3}(?:[\s\.,]\d{3})+)(?:[\.,]\d+)?$/.test(value);
        }
    </script>
}






















